<!DOCTYPE html>
<html>

<head>
    <title>Login Demo</title>
</head>

<body>
    <script src="https://www.google.com/recaptcha/api.js"></script>
    <form>
        <input type="email" id="email" placeholder="me@example.com">
        <input type="text" id="username" placeholder="username">
        <input type="password" id="password" placeholder="password">
        <button class="g-recaptcha" data-sitekey="6Lc1rKUZAAAAACC7HDZClt_rDN1csZDjCqDWBnHn" data-callback='mcdonalds'
            data-action='submit'>Submit</button>
    </form>
    <script>
        window.mcdonalds = async function (token) {
            var req = new XMLHttpRequest();
            req.open("POST", "https://vex-api.herokuapp.com/register", true);
            req.setRequestHeader("Content-Type", "application/json");
            req.onload = function() {
                if(this.readyState != 4)
                    return;
                console.log(this.response);
            };
            req.send(JSON.stringify({
                username: document.querySelector("#username").value,
                email: document.querySelector("#email").value,
                password: document.querySelector("#password").value,
                recaptchaToken: token
            }));
        }
    </script>
</body>

</html>